<svg width="900" height="520" viewBox="0 0 900 520" xmlns="http://www.w3.org/2000/svg">
  <style>
    .box { fill: #ffffff; stroke: #1f2933; stroke-width: 1.4; rx: 10; ry: 10; }
    .title { font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif; font-size: 16px; font-weight: 700; fill: #111827; }
    .text { font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif; font-size: 13px; fill: #374151; }
    .label { font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif; font-size: 12px; fill: #4b5563; }
    .arrow { stroke: #4b5563; stroke-width: 1.4; marker-end: url(#arrowhead); }
    .bg { fill: #f3f4f6; }
  </style>

  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7"
            refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#4b5563" />
    </marker>
  </defs>

  <!-- background panel -->
  <rect x="20" y="20" width="860" height="480" class="bg" rx="18" ry="18"/>

  <!-- TITLE -->
  <text x="50" y="55" class="title">Blockchain File Integrity Registry – High-Level Architecture</text>
  <text x="50" y="78" class="label">Flow: User → Python CLI → Integrity Client → Smart Contract → Local Blockchain</text>

  <!-- USER BOX -->
  <rect x="70" y="120" width="170" height="80" class="box"/>
  <text x="90" y="145" class="title">User / Analyst</text>
  <text x="90" y="170" class="text">Runs CLI commands:</text>
  <text x="90" y="188" class="text">• register</text>
  <text x="145" y="188" class="text">|</text>
  <text x="153" y="188" class="text">verify</text>

  <!-- CLI BOX -->
  <rect x="340" y="110" width="220" height="100" class="box"/>
  <text x="360" y="135" class="title">Python CLI</text>
  <text x="360" y="158" class="text">• Parses arguments</text>
  <text x="360" y="176" class="text">• Calls integrity client</text>

  <!-- INTEGRITY CLIENT BOX -->
  <rect x="340" y="240" width="220" height="140" class="box"/>
  <text x="360" y="265" class="title">Integrity Client</text>
  <text x="360" y="288" class="text">• Computes SHA-256 hash</text>
  <text x="360" y="306" class="text">• Uses Web3.py</text>
  <text x="360" y="324" class="text">• registerFile() on-chain</text>
  <text x="360" y="342" class="text">• getFileRecord() for verify</text>

  <!-- SMART CONTRACT BOX -->
  <rect x="630" y="210" width="230" height="150" class="box"/>
  <text x="650" y="235" class="title">Solidity Smart Contract</text>
  <text x="650" y="258" class="text">FileIntegrityRegistry.sol</text>
  <text x="650" y="280" class="text">• registerFile(fileHash, metadata)</text>
  <text x="650" y="298" class="text">• getFileRecord(fileHash)</text>
  <text x="650" y="316" class="text">• isFileRegistered(fileHash)</text>
  <text x="650" y="336" class="text">Stores owner, timestamp, hash</text>

  <!-- BLOCKCHAIN BOX -->
  <rect x="630" y="380" width="230" height="80" class="box"/>
  <text x="650" y="405" class="title">Local Blockchain (Ganache)</text>
  <text x="650" y="428" class="text">Immutable storage for file records</text>

  <!-- arrows: user -> CLI -> client -> contract -> chain -->

  <!-- User -> CLI -->
  <line x1="240" y1="160" x2="340" y2="160" class="arrow" />
  <text x="260" y="150" class="label">CLI commands</text>

  <!-- CLI -> Client -->
  <line x1="450" y1="210" x2="450" y2="240" class="arrow" />
  <text x="457" y="227" class="label">function calls</text>

  <!-- Client -> Contract -->
  <line x1="560" y1="280" x2="630" y2="280" class="arrow" />
  <text x="570" y="270" class="label">Web3 JSON-RPC</text>

  <!-- Contract -> Blockchain -->
  <line x1="745" y1="360" x2="745" y2="380" class="arrow" />

  <!-- Return arrow Contract -> Client -->
  <line x1="630" y1="320" x2="560" y2="320" class="arrow" />
  <text x="570" y="314" class="label">read state</text>

  <!-- Return arrow Client -> CLI -->
  <line x1="450" y1="240" x2="450" y2="210" class="arrow" />

  <!-- Return arrow CLI -> User -->
  <line x1="340" y1="190" x2="240" y2="190" class="arrow" />
  <text x="260" y="205" class="label">verification result</text>

  <!-- SIDE PANEL: SECURITY CONTEXT -->
  <rect x="70" y="240" width="230" height="200" class="box"/>
  <text x="90" y="265" class="title">Security Context</text>
  <text x="90" y="290" class="text">• Detects tampering of files</text>
  <text x="90" y="308" class="text">• Supports digital forensics</text>
  <text x="90" y="326" class="text">• Immutable audit trail</text>
  <text x="90" y="344" class="text">• Helps with chain-of-custody</text>
  <text x="90" y="362" class="text">• Useful for logs, configs, evidence</text>
</svg>
